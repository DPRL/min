<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html 
      PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:svg="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink">
	<head>
		<meta name="viewport" content="user-scalable=no, maximum-scale=1.0, minimum-scale=1.0"></meta>
		<meta name="apple-mobile-web-app-capable" content="yes"></meta>
		<meta name="apple-mobile-web-app-status-bar-style" content="black"></meta>
		<title></title>
		<style type="text/css">
		
			body
			{
				background-color: #BBBBBB;
				overflow: hidden;
			}
			
			div
			{
				-webkit-user-select: none;
				-webkit-tap-highlight-color: rgba(0,0,0,0);
			}
			
			div:focus
			{
				outline: none;
			}
			
			canvas:focus
			{
				outline:none;
			}
			
			svg:focus
			{
				outline:none;
			}
			
			div.equation_editor
			{
				
				width: 100%;
				height: 100%;
				
				position: absolute;
				left: 0px;
				top: 0px;
				font-family: Tahoma, Geneva, sans-serif;
				
			}
			/* used for any buttons to change mouse cursor*/
			.button:hover
			{
				cursor: pointer;
			}

			
			div#relabel_menu
			{
				position: relative;
				top: 20px;
				background-color: rgba(1,1,1,0);
				//overflow: hidden;
				width: 600px;
				height: 400px;
				z-index: 1000;
				margin: 0px auto;
				opacity: 0.8;
				border:10px solid #DDDDDD;
				border-radius: 5px;
				-moz-box-shadow:  10px 10px 10px rgba(64,64,64,0.5);
				-webkit-box-shadow: 10px 10px 10px rgba(64,64,64,0.5);
			}
			

			
			div#rr_node_label
			{
				position: absolute;
				width: 100%;
				top: -8px;
				bottom: 93%;
				4background-color: #DDDDDD;
				font-size: 20px;
				font-height: 30px;
				font-effect: outline;
			}

			div#rr_close_button
			{
				position: absolute;
				width: 9%;
				top: -9px;
				height: 20px;
				left: 91%;

				/* Text */
				text-align: center;
				font-size: 18px;
				font-height: 20px;
				font-weight: 900;
				color: #EEE;
				 -webkit-text-stroke: 0.75px #000;
				font-family: Arial, Helvetica, sans-serif;
				
				/* gradient */
				background: #FF5C49; /* old browsers */
				background: -moz-linear-gradient(top, #FF5C49 0%, #E89F99 29%, #FF5C49 94%); /* firefox */

				background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#FF5C49), color-stop(29%,#E89F99), color-stop(94%,#FF5C49)); /* webkit */

				filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#FF5C49', endColorstr='#FF5C49',GradientType=0 ); /* ie */

				background: -o-linear-gradient(top, #FF5C49 0%,#E89F99 29%,#FF5C49 94%); /* opera */
				/* end gradient */
				
				/* border */
				border-style: groove;
				border-bottom-right-radius: 4px;
				border-bottom-left-radius: 4px;				
				border-width: 0px 2px 2px 2px;
				border-color: #888;
				
			}
			div#rr_close_button:hover
			{
				background: #FF4732; /* old browsers */
				background: -moz-linear-gradient(top, #FF4732 0%, #F97C75 29%, #FF4935 94%); /* firefox */

				background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#FF4732), color-stop(29%,#F97C75), color-stop(94%,#FF4935)); /* webkit */

				filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#FF4732', endColorstr='#FF4935',GradientType=0 ); /* ie */

				background: -o-linear-gradient(top, #FF4732 0%,#F97C75 29%,#FF4935 94%); /* opera */
			}
			
			span.rr_node
			{
				background-color: #B8B8B8;
				
				padding: 2px 4px 4px 5px;
				border-style: inset;
				border-bottom-right-radius: 4px;
				border-bottom-left-radius: 4px;				
				border-width: 0px 2px 2px 2px;
				border-color: #A8A8A8;
				height: 30px;

			}
			span.rr_node_delimiter
			{
				font-height: 23px;
				font-size: 15px;
			}
			
			div#rr_inner
			{
				position: absolute;
				border-style: inset;
				border: 2px inset #AAA;
				border-radius: 4px;
				left: -2px;
				height: 93%;
				width: 100%;
				margin: auto;
				top: 7%;
			}
			div#rr_up_tree
			{
				position: absolute;
				left: 0px;
				top: 0px;
				width: 100%;
				height: 10%;
				background-color: #bbbbbb;
			}
			
			div#rr_center
			{
				position: absolute;
				overflow-y: scroll;
				overflow-x: hidden;
				top: 0%;
				height: 100%;
				width: 100%;
				background-color: #ccc;
			}
			
			div#rr_symbol_grid
			{
				position: relative;
				width: 100%;
				height: 100%;
			}
			div.symbol_cell
			{
				cursor: pointer;
				width: 33%;
				height:33%;
				float: left;
				background-color: rgba(196,196,196, 1);
				text-align: center;
				ont-size: 40px;
				border-style: solid;
				border-width: 0px 1px 1px 0px;
				font-size: 40px;
				font-family:"Times New Roman",Georgia,Serif;
			}
			
			div#rr_category_list
			{
				position: absolute;
				width: 100%;
				height: 100%;
			}
			div.category_row
			{
				height: 25%;
				width: 100%;
				background-color: rgba(196,196,196, 1);
				text-align: center;
				max-height: 20%;
				max-width: 100%;
				font-size: 40px;
				border-style: solid;
				border-width: 0px 0px 1px 0px;
				max-height: 20%;
				font-family:"Times New Roman",Georgia,Serif;
			}
			
			div.equation_canvas
			{
				display: block;
				background-color: #FFFFFF;
				position: relative;
				width: 100%;
				height: 100%;
				overflow: hidden;
			}			
			/* toolbar stuff */
			
			div.toolbar
			{
				position: relative;
				display: block;
				
				/** background color **/
				background: #F6F5F2; /* old browsers */
				background: -moz-linear-gradient(top, #F6F5F2 0%, #EDEAE3 37%, #DCD7C8 100%); /* firefox */

				background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#F6F5F2), color-stop(37%,#EDEAE3), color-stop(100%,#DCD7C8)); /* webkit */

				filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#F6F5F2', endColorstr='#DCD7C8',GradientType=0 ); /* ie */

				background: -o-linear-gradient(top, #F6F5F2 0%,#EDEAE3 37%,#DCD7C8 100%); /* opera *
				
				/*background-color: #BBBB90;*/
				
				
				left: 0px;
				top: 0px;
				height: 120px;
				width: 100%;
				overflow: hidden;
				border-bottom-style: solid;
				border-bottom-width: 1px;
				border-bottom-color: #D3C9BC;
				
			}
			
			div.toolbar_group
			{
				position: relative;
				top: 0px;
				height: inherit;
				width: auto;
				float:left;
			}
			
			div.toolbar_group_label
			{
				position: absolute;
				top: 80%;
				bottom: 0%;
				width: 100%;
				text-align: center;
				font-size: 14px;
				height: 16px;
				font-height: 16px;
			}
			
			div.toolbar_group_divider
			{
				top: 0px;
				width: 2px;
				height: inherit;
				background-color:  #D3C9BC;
				float:left;
				margin-left: 3px;
				margin-right: 3px;
			}
			
			div.toolbar_button
			{
				margin-top: 2px;
				margin-right: 2px;
				margin-left: 2px;
				position: relative;
				
				float: left;
			}
			
			div.toolbar_button_overlay
			{
				position: absolute;
				top: -1px;
				left: -1px;
				height: 100%;
				width: 100%;
				float: left;
			}
		
			div.toolbar_button_selected
			{
				border-style:inset;
				border-width:1px;
				border-radius: 2px;			
				border-color: #CE8D42;
				background-color: rgba(206,141,66,0.4);
			}
			
			div.toolbar_button_enabled:hover
			{
				border-style:outset;
				border-width:1px;
				border-radius: 2px;			
				border-color: #D3C9BC;
				background-color: rgba(125,125,255,0.2);
			}
			
			div.toolbar_button_disabled
			{
				border-style:inset;
				border-width:1px;
				border-radius: 2px;				
				border-color:#BBB;
				background-color: rgba(96,96,96,0.2);
			}
			
			div.toolbar_button_touched
			{
				border-style:inset;
				border-width:1px;
				border-radius: 2px;				
				border-color:#BBB;
				background-color: rgba(255,255,0,0.2);
			}
			
			div.toolbar_button_icon
			{
				width: 64px;
				height: 64px;
				background-color: #111;
				margin: 5px;
			}
			
			div.toolbar_button_label
			{
				margin-bottom: 5px;
				width: 100%;
				text-align: center;
				font-size: 12px;
			}
			

			li.toolbar_button:hover
			{
				background-color: #AAAA90;
			}
			input.image_upload
			{
				top: 0;
				right: 0;
				font-size: 10em;
				width: 100%;
				height: 100%;
				opacity: 0.5;
			}
			
			div#bounding_box
			{
				position: absolute;
				//outline: #303030 dashed 1px;
				border: 1px dashed #333;
			}
			div.bb_handle
			{
				visibility: inherit;
				position: absolute;
				width: 30px;
				height: 30px;
				border: 2px solid #444;
				border-radius: 30px;
				background-color: #F80;
				z-index: 20;
			}
			
			div.segment_set
			{
				position: absolute;
				background-color: rgba(255,128,0,0.5);
				z-index: 10;
				text-align: center;
				color: rgba(0,128,196, 1);
				font-family:"Times New Roman",Georgia,Serif;
			}
			
			div#selection_rectangle
			{
				position: absolute;
				border: 1.75px solid #44F;				
				z-index: 100;
				
			}
			
			svg.pen_stroke
			{
				position: absolute;
				z-index: 15;
			}
			
		</style>
	</head>

	<body ontouchmove="event.preventDefault();">
		<div id="equation_editor_root" class="equation_editor" style="overflow: hidden;">
			<div id="toolbar" class="toolbar">
				<div class="toolbar_group">
					<div class="toolbar_button button" id="pen">
						<div class="toolbar_button_icon"></div>
						<div class="toolbar_button_label">Pen</div>
						<div class="toolbar_button_overlay"></div>
					</div>
				</div>
				<div class="toolbar_group_divider"></div>
				<div class="toolbar_group">
					<div class="toolbar_button" id="rectangle_select">
						<div class="toolbar_button_icon"></div>	
						<div class="toolbar_button_label">Box</div>
						<div class="toolbar_button_overlay"></div>
					</div>				
					<div class="toolbar_button button" id="stroke_select">
						<div class="toolbar_button_icon"></div>			
						<div class="toolbar_button_label">Stroke</div>
						<div class="toolbar_button_overlay"></div>
					</div>
					
					<div class="toolbar_group_label">Select</div>
				</div>
				<div class="toolbar_group_divider"></div>
				<div class="toolbar_group">	
					<div class="toolbar_button button" id="delete">
						<div class="toolbar_button_icon"></div>		
						<div class="toolbar_button_label">Delete</div>
						<div class="toolbar_button_overlay"></div>
					</div>
					<div class="toolbar_button button" id="align">
						<div class="toolbar_button_icon"></div>		
						<div class="toolbar_button_label">Align</div>
						<div class="toolbar_button_overlay"></div>
					</div>
					<div class="toolbar_button button" id="undo">
						<div class="toolbar_button_icon"></div>
						<div class="toolbar_button_label">Undo</div>
						<div class="toolbar_button_overlay"></div>
					</div>
					<div class="toolbar_button button" id="redo">
						<div class="toolbar_button_icon"></div>		
						<div class="toolbar_button_label">Redo</div>
						<div class="toolbar_button_overlay"></div>
					</div>
					<div class="toolbar_group_label">Edit</div>
				</div>
				<div class="toolbar_group_divider"></div>
				<div class="toolbar_group">
					<div class="toolbar_button button" id="group">
						<div class="toolbar_button_icon"></div>		
						<div class="toolbar_button_label">Group</div>
						<div class="toolbar_button_overlay"></div>
					</div>
					<div class="toolbar_button button" id="relabel">
						<div class="toolbar_button_icon"></div>		
						<div class="toolbar_button_label">Label</div>
						<div class="toolbar_button_overlay"></div>
					</div>
					<div class="toolbar_group_label">Segment</div>
				</div>
				<div class="toolbar_group_divider"></div>
				<div class="toolbar_group">
					<div class="toolbar_button button" id="clear">
						<div class="toolbar_button_icon"></div>
						<div class="toolbar_button_label">Clear</div>
						<div class="toolbar_button_overlay"></div>
					</div>
				</div>
			</div>
			<!-- holds everything but the toolbar-->
			<div id="equation_canvas" class="equation_canvas" tabindex="0" >
				<div id="relabel_menu" style="visibility: hidden;" >
					<div id="rr_node_label"></div>
					<div id="rr_close_button" class="button">X</div>
					<div id="rr_inner">
						<!--<div id="rr_up_tree"></div>-->
						<div id="rr_center">
							<!-- prototype for category list -->
							<div id="rr_category_list" >
								<!--<div class="category_row"></div>-->
							</div>	
							<!-- prototype for category table -->
							<div id="rr_symbol_grid" >
								<!--<div class="symbol_cell"></div>-->
							</div>
						</div>
					</div>
				</div>							
				
				<!-- bounding box div for seleccted segments-->
				<div id="bounding_box"  ontouchstart="event.preventDefault();">
					<div style="left: -16px; top:-16px;" class="bb_handle" ontouchstart="event.preventDefault();"></div>
					<div style="right: -16px; top:-16px;" class="bb_handle" ontouchstart="event.preventDefault();"></div>
					<div style="left: -16px; bottom:-16px;" class="bb_handle" ontouchstart="event.preventDefault();"></div>
					<div style="right: -16px; bottom:-16px;" class="bb_handle" ontouchstart="event.preventDefault();"></div>					
					<div style="left: 50%; margin-left: -16px; top:-16px;" class="bb_handle" ontouchstart="event.preventDefault();"></div>
					<div style="left: 50%; margin-left: -16px; bottom:-16px;" class="bb_handle" ontouchstart="event.preventDefault();"></div>
					<div style="left: -16px; margin-top: -16px; top: 50%;" class="bb_handle" ontouchstart="event.preventDefault();"></div>
					<div style="right: -16px; margin-top: -16px; top: 50%;" class="bb_handle" ontouchstart="event.preventDefault();"></div>
				</div>
				<!-- selection rectangle for box select -->
				<div id="selection_rectangle"></div>
			</div>
			
		</div>
		
		<!-- Classifier -->
		<script type="text/javascript" src="Classifier.js"></script>
		
		<!-- Editor components  -->
		<script type="text/javascript" src="Editor.js"></script>
		<script type="text/javascript" src="Editor.Events.js"></script>
		<script type="text/javascript" src="Editor.Buttons.js"></script>
		<script type="text/javascript" src="Editor.Constants.js"></script>
		<script type="text/javascript" src="CorrectionMenu.js"></script>
		<script type="text/javascript" src="CorrectionMenu.SymbolTree.js"></script>
		<script type="text/javascript" src="RenderManager.js"></script>
		<script type="text/javascript" src="CollisionManager.js"></script>
		<script type="text/javascript" src="RecognitionManager.js"></script>
		
		<!-- correction menu -->
		
		
		<!-- collision objects -->
		<script type="text/javascript" src="BoundingBox.js"></script>
		<!-- our Segment things -->
		<script type="text/javascript" src="Segment.js"></script>
		<script type="text/javascript" src="PenStroke.js"></script>
		<script type="text/javascript" src="ImageBlob.js"></script>
		<script type="text/javascript" src="SymbolSegment.js"></script>
		<!-- Undable/Redoable Actions -->
		<script type="text/javascript" src="Action.AddSegments.js"></script>
		<script type="text/javascript" src="Action.TransformSegments.js"></script>
		<script type="text/javascript" src="Action.GroupSegments.js"></script>
		<script type="text/javascript" src="Action.EditText.js"></script>
		<script type="text/javascript" src="Action.DeleteSegments.js"></script>
		<script type="text/javascript" src="Action.Undo.js"></script>
		<script type="text/javascript" src="Action.Redo.js"></script>
		<!-- Misc tools -->
		<script type="text/javascript" src="Utils.js"></script>
		<!-- JQuery -->
		<script type="text/javascript" src="jquery.js"></script>

		<!-- Main -->
		<script type="text/javascript">
			Editor.initialize("equation_canvas", "toolbar");
			//var e = new Editor("my_div", "toolbar");
		</script>
		<!-- Playground -->
		<script type="text/javascript">
			//alert(window.innerWidth + " x " + window.innerHeight);
			// IPAD: 981 x 661
		/*
			var a = new Array();
			a.push("hello");
			a.push("world");
			var b1 = a.contains("hello");
			var b2 = a.contains("world");
			var b3 = a.contains("butts");
			alert(b1 + " " + b2 + " " + b3);
		*/
			/*
			$.ajax({
				type: "POST",
				url: "http://129.21.34.104:1000/",
				dataType: "html",
				success: function(data, textStatus, xmlrequest)
				{
				//	alert(data);
				}
			});
			*/
		</script>
	</body>
</html>

